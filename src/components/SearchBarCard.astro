---
export interface Props {
  linkKey: string;
  title: string;
  url: string;
  clicks: number;
}

const { linkKey, title, url, clicks } = Astro.props;
const displayUrl = new URL(url).hostname.replace('www.', '');
---

<a 
  href={`/${linkKey}`} 
  class="block p-3 hover:bg-zinc-800/50 transition-colors duration-200 border-b border-zinc-800 last:border-b-0"
>
  <div class="flex items-center justify-between gap-4">
    <div class="min-w-0 flex-1">
      <h3 class="text-chocolate-300 font-medium truncate mb-1">
        {title}
      </h3>
      <div class="flex items-center gap-2 text-sm">
        <span class="text-zinc-500 font-mono">/{linkKey}</span>
        <span class="text-zinc-600">â€¢</span>
        <span class="text-zinc-500 truncate">{displayUrl}</span>
      </div>
    </div>
    <div class="flex items-center gap-2">
      <span class="text-xs text-zinc-500 flex items-center gap-1">
        <svg 
          class="h-3 w-3" 
          xmlns="http://www.w3.org/2000/svg" 
          viewBox="0 0 24 24" 
          fill="none" 
          stroke="currentColor" 
          stroke-width="2" 
          stroke-linecap="round" 
          stroke-linejoin="round"
        >
          <path d="M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"/>
        </svg>
        {clicks}
      </span>
      <svg 
        class="h-5 w-5 text-zinc-600" 
        xmlns="http://www.w3.org/2000/svg" 
        viewBox="0 0 24 24" 
        fill="none" 
        stroke="currentColor" 
        stroke-width="2" 
        stroke-linecap="round" 
        stroke-linejoin="round"
      >
        <path d="M5 12h14M12 5l7 7-7 7"/>
      </svg>
    </div>
  </div>
</a>

